{"remainingRequest":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panfangziniubi/Desktop/project/sale/src/components/SIdentify.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/panfangziniubi/Desktop/project/sale/src/components/SIdentify.vue","mtime":1689555570000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/babel-loader@8.3.0/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogICAgZXhwb3J0IGRlZmF1bHQgew0KICAgICAgICBuYW1lOiAiU0lkZW50aWZ5IiwNCiAgICAgICAgcHJvcHM6IHsNCiAgICAgICAgICAgIGlkZW50aWZ5Q29kZTogew0KICAgICAgICAgICAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAnMTIzNCcNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBmb250U2l6ZU1pbjogew0KICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyNQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGZvbnRTaXplTWF4OiB7DQogICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDMwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yTWluOiB7DQogICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDI1NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGJhY2tncm91bmRDb2xvck1heDogew0KICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAyNTUNCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb2xvck1pbjogew0KICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgY29sb3JNYXg6IHsNCiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsDQogICAgICAgICAgICAgICAgZGVmYXVsdDogMTYwDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgbGluZUNvbG9yTWluOiB7DQogICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDEwMA0KICAgICAgICAgICAgfSxsaW5lQ29sb3JNYXg6IHsNCiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsDQogICAgICAgICAgICAgICAgZGVmYXVsdDogMjU1DQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZG90Q29sb3JNaW46IHsNCiAgICAgICAgICAgICAgICB0eXBlOiBOdW1iZXIsDQogICAgICAgICAgICAgICAgZGVmYXVsdDogMA0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRvdENvbG9yTWF4OiB7DQogICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDI1NQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGNvbnRlbnRXaWR0aDogew0KICAgICAgICAgICAgICAgIHR5cGU6IE51bWJlciwNCiAgICAgICAgICAgICAgICBkZWZhdWx0OiAxMTINCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBjb250ZW50SGVpZ2h0OiB7DQogICAgICAgICAgICAgICAgdHlwZTogTnVtYmVyLA0KICAgICAgICAgICAgICAgIGRlZmF1bHQ6IDMxDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIG1ldGhvZHM6IHsNCiAgICAgICAgICAgIC8vIOeUn+aIkOS4gOS4qumaj+acuuaVsA0KICAgICAgICAgICAgcmFuZG9tTnVtKG1pbiwgbWF4KSB7DQogICAgICAgICAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pICsgbWluKQ0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIC8vIOeUn+aIkOS4gOS4qumaj+acuueahOminOiJsg0KICAgICAgICAgICAgcmFuZG9tQ29sb3IobWluLCBtYXgpIHsNCiAgICAgICAgICAgICAgICBsZXQgciA9IHRoaXMucmFuZG9tTnVtKG1pbiwgbWF4KQ0KICAgICAgICAgICAgICAgIGxldCBnID0gdGhpcy5yYW5kb21OdW0obWluLCBtYXgpDQogICAgICAgICAgICAgICAgbGV0IGIgPSB0aGlzLnJhbmRvbU51bShtaW4sIG1heCkNCiAgICAgICAgICAgICAgICByZXR1cm4gJ3JnYignICsgciArICcsJyArIGcgKyAnLCcgKyBiICsgJyknDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZHJhd1BpYygpIHsNCiAgICAgICAgICAgICAgICBsZXQgY2FudmFzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3MtY2FudmFzJykNCiAgICAgICAgICAgICAgICBsZXQgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJykNCiAgICAgICAgICAgICAgICBjdHgudGV4dEJhc2VsaW5lID0gJ2JvdHRvbScNCiAgICAgICAgICAgICAgICAvLyDnu5jliLbog4zmma8NCiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcih0aGlzLmJhY2tncm91bmRDb2xvck1pbiwgdGhpcy5iYWNrZ3JvdW5kQ29sb3JNYXgpDQogICAgICAgICAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDAsIHRoaXMuY29udGVudFdpZHRoLCB0aGlzLmNvbnRlbnRIZWlnaHQpDQogICAgICAgICAgICAgICAgLy8g57uY5Yi25paH5a2XDQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmlkZW50aWZ5Q29kZS5sZW5ndGg7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRyYXdUZXh0KGN0eCwgdGhpcy5pZGVudGlmeUNvZGVbaV0sIGkpDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIHRoaXMuZHJhd0xpbmUoY3R4KQ0KICAgICAgICAgICAgICAgIHRoaXMuZHJhd0RvdChjdHgpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZHJhd1RleHQoY3R4LCB0eHQsIGkpIHsNCiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcih0aGlzLmNvbG9yTWluLCB0aGlzLmNvbG9yTWF4KQ0KICAgICAgICAgICAgICAgIGN0eC5mb250ID0gdGhpcy5yYW5kb21OdW0odGhpcy5mb250U2l6ZU1pbiwgdGhpcy5mb250U2l6ZU1heCkgKyAncHggU2ltSGVpJw0KICAgICAgICAgICAgICAgIGxldCB4ID0gKGkgKyAxKSAqICh0aGlzLmNvbnRlbnRXaWR0aCAvICh0aGlzLmlkZW50aWZ5Q29kZS5sZW5ndGggKyAxKSkNCiAgICAgICAgICAgICAgICBsZXQgeSA9IHRoaXMucmFuZG9tTnVtKHRoaXMuZm9udFNpemVNYXgsIHRoaXMuY29udGVudEhlaWdodCAtIDUpDQogICAgICAgICAgICAgICAgdmFyIGRlZyA9IHRoaXMucmFuZG9tTnVtKC00NSwgNDUpDQogICAgICAgICAgICAgICAgLy8g5L+u5pS55Z2Q5qCH5Y6f54K55ZKM5peL6L2s6KeS5bqmDQogICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSh4LCB5KQ0KICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoZGVnICogTWF0aC5QSSAvIDE4MCkNCiAgICAgICAgICAgICAgICBjdHguZmlsbFRleHQodHh0LCAwLCAwKQ0KICAgICAgICAgICAgICAgIC8vIOaBouWkjeWdkOagh+WOn+eCueWSjOaXi+i9rOinkuW6pg0KICAgICAgICAgICAgICAgIGN0eC5yb3RhdGUoLWRlZyAqIE1hdGguUEkgLyAxODApDQogICAgICAgICAgICAgICAgY3R4LnRyYW5zbGF0ZSgteCwgLXkpDQogICAgICAgICAgICB9LA0KICAgICAgICAgICAgZHJhd0xpbmUoY3R4KSB7DQogICAgICAgICAgICAgICAgLy8g57uY5Yi25bmy5omw57q/DQogICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHsNCiAgICAgICAgICAgICAgICAgICAgY3R4LnN0cm9rZVN0eWxlID0gdGhpcy5yYW5kb21Db2xvcih0aGlzLmxpbmVDb2xvck1pbiwgdGhpcy5saW5lQ29sb3JNYXgpDQogICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgICAgICAgICAgICAgICAgICBjdHgubW92ZVRvKHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KSkNCiAgICAgICAgICAgICAgICAgICAgY3R4LmxpbmVUbyh0aGlzLnJhbmRvbU51bSgwLCB0aGlzLmNvbnRlbnRXaWR0aCksIHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudEhlaWdodCkpDQogICAgICAgICAgICAgICAgICAgIGN0eC5zdHJva2UoKQ0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgIH0sDQogICAgICAgICAgICBkcmF3RG90KGN0eCkgew0KICAgICAgICAgICAgICAgIC8vIOe7mOWItuW5suaJsOeCuQ0KICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgODA7IGkrKykgew0KICAgICAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gdGhpcy5yYW5kb21Db2xvcigwLCAyNTUpDQogICAgICAgICAgICAgICAgICAgIGN0eC5iZWdpblBhdGgoKQ0KICAgICAgICAgICAgICAgICAgICBjdHguYXJjKHRoaXMucmFuZG9tTnVtKDAsIHRoaXMuY29udGVudFdpZHRoKSwgdGhpcy5yYW5kb21OdW0oMCwgdGhpcy5jb250ZW50SGVpZ2h0KSwgMSwgMCwgMiAqIE1hdGguUEkpDQogICAgICAgICAgICAgICAgICAgIGN0eC5maWxsKCkNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHdhdGNoOiB7DQogICAgICAgICAgICBpZGVudGlmeUNvZGUoKSB7DQogICAgICAgICAgICAgICAgdGhpcy5kcmF3UGljKCkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgbW91bnRlZCgpIHsNCiAgICAgICAgICAgIHRoaXMuZHJhd1BpYygpDQogICAgICAgIH0NCiAgICB9DQo="},{"version":3,"sources":["SIdentify.vue"],"names":[],"mappings":";AAOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SIdentify.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n    <div class=\"s-canvas\">\r\n        <canvas id=\"s-canvas\" :width=\"contentWidth\" :height=\"contentHeight\"></canvas>\r\n    </div>\r\n</template>\r\n  \r\n<script>\r\n    export default {\r\n        name: \"SIdentify\",\r\n        props: {\r\n            identifyCode: {\r\n                type: String,\r\n                default: '1234'\r\n            },\r\n            fontSizeMin: {\r\n                type: Number,\r\n                default: 25\r\n            },\r\n            fontSizeMax: {\r\n                type: Number,\r\n                default: 30\r\n            },\r\n            backgroundColorMin: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            backgroundColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            colorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            colorMax: {\r\n                type: Number,\r\n                default: 160\r\n            },\r\n            lineColorMin: {\r\n                type: Number,\r\n                default: 100\r\n            },lineColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            dotColorMin: {\r\n                type: Number,\r\n                default: 0\r\n            },\r\n            dotColorMax: {\r\n                type: Number,\r\n                default: 255\r\n            },\r\n            contentWidth: {\r\n                type: Number,\r\n                default: 112\r\n            },\r\n            contentHeight: {\r\n                type: Number,\r\n                default: 31\r\n            }\r\n        },\r\n        methods: {\r\n            // 生成一个随机数\r\n            randomNum(min, max) {\r\n                return Math.floor(Math.random() * (max - min) + min)\r\n            },\r\n            // 生成一个随机的颜色\r\n            randomColor(min, max) {\r\n                let r = this.randomNum(min, max)\r\n                let g = this.randomNum(min, max)\r\n                let b = this.randomNum(min, max)\r\n                return 'rgb(' + r + ',' + g + ',' + b + ')'\r\n            },\r\n            drawPic() {\r\n                let canvas = document.getElementById('s-canvas')\r\n                let ctx = canvas.getContext('2d')\r\n                ctx.textBaseline = 'bottom'\r\n                // 绘制背景\r\n                ctx.fillStyle = this.randomColor(this.backgroundColorMin, this.backgroundColorMax)\r\n                ctx.fillRect(0, 0, this.contentWidth, this.contentHeight)\r\n                // 绘制文字\r\n                for (let i = 0; i < this.identifyCode.length; i++) {\r\n                    this.drawText(ctx, this.identifyCode[i], i)\r\n                }\r\n                this.drawLine(ctx)\r\n                this.drawDot(ctx)\r\n            },\r\n            drawText(ctx, txt, i) {\r\n                ctx.fillStyle = this.randomColor(this.colorMin, this.colorMax)\r\n                ctx.font = this.randomNum(this.fontSizeMin, this.fontSizeMax) + 'px SimHei'\r\n                let x = (i + 1) * (this.contentWidth / (this.identifyCode.length + 1))\r\n                let y = this.randomNum(this.fontSizeMax, this.contentHeight - 5)\r\n                var deg = this.randomNum(-45, 45)\r\n                // 修改坐标原点和旋转角度\r\n                ctx.translate(x, y)\r\n                ctx.rotate(deg * Math.PI / 180)\r\n                ctx.fillText(txt, 0, 0)\r\n                // 恢复坐标原点和旋转角度\r\n                ctx.rotate(-deg * Math.PI / 180)\r\n                ctx.translate(-x, -y)\r\n            },\r\n            drawLine(ctx) {\r\n                // 绘制干扰线\r\n                for (let i = 0; i < 5; i++) {\r\n                    ctx.strokeStyle = this.randomColor(this.lineColorMin, this.lineColorMax)\r\n                    ctx.beginPath()\r\n                    ctx.moveTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.lineTo(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight))\r\n                    ctx.stroke()\r\n                }\r\n            },\r\n            drawDot(ctx) {\r\n                // 绘制干扰点\r\n                for (let i = 0; i < 80; i++) {\r\n                    ctx.fillStyle = this.randomColor(0, 255)\r\n                    ctx.beginPath()\r\n                    ctx.arc(this.randomNum(0, this.contentWidth), this.randomNum(0, this.contentHeight), 1, 0, 2 * Math.PI)\r\n                    ctx.fill()\r\n                }\r\n            }\r\n        },\r\n        watch: {\r\n            identifyCode() {\r\n                this.drawPic()\r\n            }\r\n        },\r\n        mounted() {\r\n            this.drawPic()\r\n        }\r\n    }\r\n</script>\r\n  \r\n<style scoped>\r\n    .s-canvas {\r\n        height: 38px;\r\n  \r\n    }\r\n    .s-canvas canvas{\r\n        margin-top: 1px;\r\n        margin-left: 8px;\r\n    }\r\n</style>"]}]}