{"remainingRequest":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panfangziniubi/Desktop/project/sale/src/views/Question.vue?vue&type=style&index=0&id=29b06b20&lang=less&scoped=true","dependencies":[{"path":"/Users/panfangziniubi/Desktop/project/sale/src/views/Question.vue","mtime":1650962176000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/less-loader@5.0.0/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5xdWVzdGlvbi1jb250YWluZXJ7CiAgd2lkdGg6IDExMDBweDsKICBoZWlnaHQ6IDEwMCU7CiAgbWFyZ2luOiAxMHB4IGF1dG87CiAgYmFja2dyb3VuZDogI2ZmZjsKICBwYWRkaW5nOiAyMHB4Owp9Cg=="},{"version":3,"sources":["Question.vue"],"names":[],"mappings":";AAuEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Question.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"question-container\">\n    <el-form ref=\"form\" :model=\"form\" :rules=\"ruleForm\" label-width=\"110px\">\n      <el-form-item label=\"标题：\" prop=\"title\">\n        <el-input v-model=\"form.title\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"内容：\" prop=\"question\">\n        <el-input type=\"textarea\" v-model=\"form.question\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"农作物名称：\" prop=\"plantName\">\n        <el-input type=\"textarea\" v-model=\"form.plantName\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"手机号：\" prop=\"phone\">\n        <el-input type=\"text\" v-model=\"form.phone\"></el-input>\n      </el-form-item>\n      <el-form-item style=\"float:right;\">\n        <el-button type=\"success\" @click=\"onSubmit\">去提问</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n<script>\nimport { addQuestion } from \"../api/order\";\n\nexport default {\n  data(){\n    return{\n      form:{\n        title:'',\n        plantName:'',\n        phone:'',\n        expertName:this.$route.query.id,\n        status:0,\n        question:''\n      },\n      ruleForm:{\n        title: [{ required: true, message: '请输入标题', trigger: 'blur' }],\n        plantName: [{ required: true, message: '请输入农作物名称', trigger: 'blur' }],\n        phone: [{ required: true, message: '请输入手机号', trigger: 'blur' }],\n        question: [{ required: true, message: '请输入内容', trigger: 'blur' }],\n      }\n    }\n  },\n  methods:{\n    onSubmit(){\n      if(localStorage.getItem('token')){\n        this.$refs.form.validate((valid) => {\n          if(valid){\n            addQuestion(this.form).then(res=>{\n              this.$message.success('提问成功！')\n              this.$router.push(\"/home/guide\").catch((err) => err);\n            }).catch(err=>{\n              console.log(err)\n            })\n          }else{\n            console.log('error submit!!');\n            return false;\n          }\n        } ) \n      }else{\n        this.$message.error('请先登录')\n      }\n    }\n  },\n  mounted(){\n    this.$store.commit(\"updateActiveIndex\", \"5\");\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.question-container{\n  width: 1100px;\n  height: 100%;\n  margin: 10px auto;\n  background: #fff;\n  padding: 20px;\n}\n</style>"]}]}