{"remainingRequest":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/panfangziniubi/Desktop/project/sale/src/views/Appointment.vue?vue&type=style&index=0&id=a0e6e856&lang=less&scoped=true","dependencies":[{"path":"/Users/panfangziniubi/Desktop/project/sale/src/views/Appointment.vue","mtime":1660897664000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/css-loader@3.6.0/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/less-loader@5.0.0/node_modules/less-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/cache-loader@4.1.0/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/panfangziniubi/Desktop/project/sale/node_modules/.store/vue-loader@15.11.1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5hcHBvaW50bWVudC1jb250YWluZXJ7CiAgd2lkdGg6IDExMDBweDsKICBoZWlnaHQ6IDEwMCU7CiAgYmFja2dyb3VuZDogI2ZmZjsKICBtYXJnaW46IDEwcHggYXV0bzsKICBwYWRkaW5nOiAxMHB4IDIwcHg7Cn0K"},{"version":3,"sources":["Appointment.vue"],"names":[],"mappings":";AAyFA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Appointment.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"appointment-container\">\n    <el-form :model=\"ruleForm\" :rules=\"rules\" ref=\"ruleForm\" label-width=\"110px\" class=\"demo-ruleForm\">\n      <el-form-item label=\"地址\" prop=\"address\">\n        <el-input v-model=\"ruleForm.address\" placeholder=\"请输入地址\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"种植作物\" prop=\"plantName\">\n        <el-input v-model=\"ruleForm.plantName\" placeholder=\"请输入种植的作物\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"作物详细信息\" prop=\"plantDetail\">\n        <el-input v-model=\"ruleForm.plantDetail\" placeholder=\"请输入作物详细信息\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"作物条件\" prop=\"plantCondition\">\n        <el-input v-model=\"ruleForm.plantCondition\" placeholder=\"请输入作物生长状况\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"土壤条件\" prop=\"soilCondition\">\n        <el-input v-model=\"ruleForm.soilCondition\" placeholder=\"请输入土壤状况\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"面积\" prop=\"area\">\n        <el-input v-model=\"ruleForm.area\" placeholder=\"请输入面积\"></el-input>\n      </el-form-item>\n      <el-form-item label=\"电话\" prop=\"phone\">\n        <el-input v-model=\"ruleForm.phone\" placeholder=\"请输入电话\"></el-input>\n      </el-form-item>\n      \n      <el-form-item style=\"float:right;\">\n        <el-button type=\"success\" @click=\"onSubmit\">去预约</el-button>\n      </el-form-item>\n    </el-form>\n  </div>\n</template>\n\n<script>\nimport { addReserve } from '../api/order'\n\nexport default {\n  data(){\n    return{\n      ruleForm:{\n        phone:'',\n        soilCondition:'',\n        plantCondition:'',\n        plantDetail:'',\n        plantName:'',\n        address:'',\n        area:'',\n        status:0,\n        expertName:this.$route.query.id,\n      },\n      rules:{\n        \n        phone: [{ required: true, message: '请输入电话', trigger: 'blur' }],\n        soilCondition: [{ required: true, message: '请输入土壤状况', trigger: 'blur' }],\n        plantCondition: [{ required: true, message: '请输入作物生长状况', trigger: 'blur' }],\n        plantDetail: [{ required: true, message: '请输入作物详细信息', trigger: 'blur' }],\n        plantName: [{ required: true, message: '请输入种植的作物', trigger: 'blur' }],\n        address: [{ required: true, message: '请输入地址', trigger: 'blur' }],\n        area: [{ required: true, message: '请输入面积', trigger: 'blur' }],\n      }\n    }\n  },\n  methods:{\n    onSubmit(){\n      if(localStorage.getItem('token')){\n        this.$refs.ruleForm.validate((valid) => {\n          if(valid){\n            addReserve(this.ruleForm).then(res => {\n              this.$message.success('预约成功！')\n              this.$router.push(\"/home/guide\").catch((err) => err);\n            }).catch(err=>{\n              console.log(err)\n            })\n          }else{\n            console.log('error submit!!');\n            return false;\n          }\n        });\n      }else{\n        this.$message.error('请先登录')\n      }\n    }\n  },\n  mounted(){\n    this.$store.commit(\"updateActiveIndex\", \"5\");\n  }\n}\n</script>\n\n<style lang=\"less\" scoped>\n.appointment-container{\n  width: 1100px;\n  height: 100%;\n  background: #fff;\n  margin: 10px auto;\n  padding: 10px 20px;\n}\n</style>"]}]}